
# This file was generated by the build system used internally in the Yandex monorepo.
# Only simple modifications are allowed (adding source-files to targets, adding simple properties
# like target_include_directories). These modifications will be ported to original
# ya.make files by maintainers. Any complex modifications which can't be ported back to the
# original buildsystem will not be accepted.


find_package(OpenSSL REQUIRED)

add_library(clickhouse-src-Common)
target_compile_options(clickhouse-src-Common PUBLIC
  -DOS_LINUX
)
target_compile_options(clickhouse-src-Common PRIVATE
  -DBOOST_ASIO_STANDALONE=1
  -DLZ4_DISABLE_DEPRECATE_WARNINGS=1
  -DPOCO_ENABLE_CPP11
  -DPOCO_HAVE_FD_EPOLL
  -DPOCO_OS_FAMILY_UNIX
  -DUNALIGNED_OK
  -DUSE_CPUID=1
  -DUSE_JEMALLOC=0
  -DUSE_REPLXX=0
  -DUSE_XXHASH=1
  -DWITH_COVERAGE=0
  -DWITH_GZFILEOP
  -DX86_64
  -DZLIB_COMPAT
  -DZ_TLS=__thread
  $<IF:$<CXX_COMPILER_ID:MSVC>,,-Wno-everything>
)
target_include_directories(clickhouse-src-Common PUBLIC
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/base/pcg-random
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Core/include
)
target_include_directories(clickhouse-src-Common PRIVATE
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/base
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/base/widechar_width
  ${CMAKE_SOURCE_DIR}/contrib/libs/double-conversion
  ${CMAKE_SOURCE_DIR}/contrib/libs/libcpuid
  ${CMAKE_SOURCE_DIR}/contrib/libs/libunwind/include
  ${CMAKE_SOURCE_DIR}/contrib/libs/lz4
  ${CMAKE_SOURCE_DIR}/contrib/libs/re2
  ${CMAKE_SOURCE_DIR}/contrib/libs/xxhash
  ${CMAKE_SOURCE_DIR}/contrib/libs/zstd/include
  ${CMAKE_SOURCE_DIR}/contrib/restricted/cityhash-1.0.2
  ${CMAKE_SOURCE_DIR}/contrib/restricted/fast_float/include
)
target_link_libraries(clickhouse-src-Common PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  clickhouse-base-common
  clickhouse-base-widechar_width
  contrib-libs-double-conversion
  contrib-libs-fmt
  contrib-libs-libcpuid
  contrib-libs-libunwind
  contrib-libs-lz4
  contrib-libs-lzma
  OpenSSL::OpenSSL
  libs-poco-Crypto
  libs-poco-Foundation
  libs-poco-Net
  libs-poco-NetSSL_OpenSSL
  libs-poco-Util
  libs-poco-XML
  contrib-libs-re2
  contrib-libs-xxhash
  contrib-libs-zstd
  restricted-boost-context
  restricted-boost-dynamic_bitset
  restricted-boost-filesystem
  restricted-boost-geometry
  restricted-boost-multi_index
  restricted-boost-program_options
  restricted-boost-system
  restricted-boost-tti
  contrib-restricted-cityhash-1.0.2
  dragonbox
  contrib-restricted-fast_float
  library-cpp-re2_st
)
target_sources(clickhouse-src-Common PRIVATE
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ActionLock.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/AlignedBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Allocator.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ClickHouseRevision.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Config/AbstractConfigurationComparison.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Config/ConfigProcessor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Config/ConfigReloader.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Config/YAMLParser.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Config/configReadClient.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/CurrentMemoryTracker.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/CurrentMetrics.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/CurrentThread.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/DNSResolver.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Dwarf.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Elf.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Epoll.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ErrorCodes.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Exception.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ExternalLoaderStatus.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FieldVisitorDump.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FieldVisitorHash.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FieldVisitorSum.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FieldVisitorToString.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FieldVisitorWriteBinary.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/FileChecker.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/IO.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/IPv6ToBinary.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/IntervalKind.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/JSONBuilder.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Macros.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/MemoryStatisticsOS.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/MemoryTracker.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/OpenSSLHelpers.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/OptimizedRegularExpression.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/PODArray.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/PipeFDs.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ProcfsMetricsProvider.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ProfileEvents.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ProgressIndication.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/QueryProfiler.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/RWLock.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/RemoteHostFilter.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/SensitiveDataMasker.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/SettingsChanges.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/SharedLibrary.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ShellCommand.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/StackTrace.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/StatusFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/StatusInfo.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/StringUtils/StringUtils.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/StudentTTest.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/SymbolIndex.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/TLDListsHolder.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/TaskStatsInfoGetter.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/TerminalSize.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ThreadFuzzer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ThreadPool.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ThreadProfileEvents.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ThreadStatus.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/Throttler.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/TimerDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/TraceCollector.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/UTF8Helpers.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/UnicodeBar.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/VersionNumber.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/WeakHash.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/IKeeper.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/TestKeeper.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeper.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeperCommon.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeperConstants.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeperIO.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeperImpl.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/ZooKeeper/ZooKeeperNodeCache.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/checkStackSize.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/clearPasswordFromCommandLine.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/clickhouse_malloc.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/createHardLink.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/escapeForFileName.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/filesystemHelpers.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/formatIPv6.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/formatReadable.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/getExecutablePath.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/getHashOfLoadedBinary.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/getMappedArea.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/getMultipleKeysFromConfig.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/getNumberOfPhysicalCPUCores.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/hasLinuxCapability.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/hex.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/isLocalAddress.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/isValidUTF8.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/new_delete.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/parseAddress.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/parseGlobs.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/parseRemoteDescription.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/quoteString.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/randomSeed.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/remapExecutable.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/renameat2.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/setThreadName.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/Common/thread_local_rng.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/AIO.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/AsynchronousReadBufferFromFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/AsynchronousReadBufferFromFileDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/BrotliReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/BrotliWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/Bzip2ReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/Bzip2WriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/CascadeWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/CompressionMethod.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/DoubleConverter.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/FileEncryptionCommon.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/HTTPChunkedReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/HTTPCommon.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/HashingWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/LZMADeflatingWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/LZMAInflatingReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/LimitReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/Lz4DeflatingWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/Lz4InflatingReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MMapReadBufferFromFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MMapReadBufferFromFileDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MMapReadBufferFromFileWithCache.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MMappedFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MMappedFileDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MemoryReadWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MySQLBinlogEventReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MySQLPacketPayloadReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/MySQLPacketPayloadWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/NullWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/OpenedFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/PeekableReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/Progress.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromEncryptedFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromFileBase.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromFileDecorator.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromFileDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromIStream.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromMemory.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromPocoSocket.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadBufferFromS3.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadHelpers.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ReadSettings.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/S3/PocoHTTPClient.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/S3/PocoHTTPClientFactory.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/S3Common.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/SeekAvoidingReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/SynchronousReader.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ThreadPoolReader.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/TimeoutSetter.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/UseSSL.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromEncryptedFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromFileBase.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromFileDecorator.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromFileDescriptor.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromFileDescriptorDiscardOnFailure.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromHTTP.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromOStream.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromPocoSocket.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromS3.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferFromTemporaryFile.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteBufferValidUTF8.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/WriteHelpers.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ZlibDeflatingWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ZlibInflatingReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ZstdDeflatingWriteBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/ZstdInflatingReadBuffer.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/copyData.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/createReadBufferFromFileBase.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/parseDateTimeBestEffort.cpp
  ${CMAKE_SOURCE_DIR}/contrib/clickhouse/src/IO/readFloatText.cpp
)
