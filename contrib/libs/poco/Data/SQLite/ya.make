# Generated by devtools/yamaker.

LIBRARY()

OWNER(g:cpp-contrib)

LICENSE(
    BSL-1.0 AND
    blessing
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/libs/poco/Data
    contrib/libs/poco/Foundation
)

ADDINCL(
    GLOBAL contrib/libs/poco/Data/SQLite/include
    contrib/libs/poco/Data/SQLite/src
    contrib/libs/poco/Data/include
    contrib/libs/poco/Foundation/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DPOCO_ENABLE_CPP11
    -DPOCO_ENABLE_CPP14
    -DPOCO_NO_AUTOMATIC_LIBS
    -DPOCO_UNBUNDLED
    -DSQLITE_DISABLE_LFS
    -DSQLITE_OMIT_COMPLETE
    -DSQLITE_OMIT_DEPRECATED
    -DSQLITE_OMIT_PROGRESS_CALLBACK
    -DSQLITE_OMIT_TCL_VARIABLE
    -DSQLITE_OMIT_UTF16
    -DSQLITE_THREADSAFE=1
    -DTHREADSAFE
)

IF (OS_DARWIN)
    CFLAGS(
        -DPOCO_OS_FAMILY_UNIX
        -DPOCO_NO_STAT64
    )
ELSEIF (OS_LINUX)
    CFLAGS(
        -DPOCO_OS_FAMILY_UNIX
        -DPOCO_HAVE_FD_EPOLL
    )
ELSEIF (OS_WINDOWS)
    CFLAGS(
        -DPOCO_OS_FAMILY_WINDOWS
    )
ENDIF()

SRCS(
    src/Binder.cpp
    src/Connector.cpp
    src/Extractor.cpp
    src/Notifier.cpp
    src/SQLiteException.cpp
    src/SQLiteStatementImpl.cpp
    src/SessionImpl.cpp
    src/Utility.cpp
)

END()
