syntax = "proto3";

package NYP.NClient.NApi.NProto;

import "google/protobuf/timestamp.proto";
import "yt/core/yson/proto/protobuf_interop.proto";

option python_package = "yp_proto.yp.client.api.proto";

option go_package = "a.yandex-team.ru/yp/go/proto/api";

option java_package = "ru.yandex.yp.client.api";
option java_outer_classname = "Conditions";
option java_multiple_files = true;

option (NYT.NYson.NProto.derive_underscore_case_names) = true;

////////////////////////////////////////////////////////////////////////////////

enum EConditionStatus
{
    CS_UNKNOWN = 0 [(NYT.NYson.NProto.enum_value_name) = "unknown"];
    CS_TRUE = 1 [(NYT.NYson.NProto.enum_value_name) = "true"];
    CS_FALSE = 2 [(NYT.NYson.NProto.enum_value_name) = "false"];
}

message TCondition
{
    // True, False, Unknown
    EConditionStatus status = 1;

    // One word (e.g. PROCESS_CRASH) for computers and short summary
    string reason = 2;

    // Some human readable message
    string message = 3;

    google.protobuf.Timestamp last_transition_time = 4;
}

message TAggregatedCondition
{
    // Number of pods for which condition is true
    uint32 pod_count = 1;

    TCondition condition = 2;
}

////////////////////////////////////////////////////////////////////////////////
