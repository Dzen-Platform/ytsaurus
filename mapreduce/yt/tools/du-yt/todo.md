- add tests
- fix node merge by template
- split into lib and tool
